// RUN: circt-verilog-lsp-server -lit-test  --source-location-include-dir=%S  < %s | FileCheck %s
// REQUIRES: slang
// Test inlay hints for the module instantiation and function call.
{"jsonrpc":"2.0","id":0,"method":"initialize","params":{"processId":123,"rootPath":"verilog","capabilities":{},"trace":"off"}}
// -----
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{
  "uri":"test:///foo.sv",
  "languageId":"verilog",
  "version":1,
  "text":"module child (input a, output b);\n assign b = a;\nendmodule\nfunction void foo(input [2:0] a, output bar);\n assign bar = a[0];\nendfunction\nmodule t(output o1);\n reg o;\n initial begin foo(1, o); end\n child c(o, o1);\nendmodule"
}}}
// -----
// Get inlay hint`
{"jsonrpc":"2.0","id":1,"method":"textDocument/inlayHint","params":{
  "textDocument":{"uri":"test:///foo.sv"},
  "range": {
    "start": {"line":3,"character":0},
    "end": {"line":10,"character":0}
  }
}}
// CHECK:        "id": 1,
// CHECK-NEXT:   "jsonrpc": "2.0",
// CHECK-NEXT:   "result": [
// CHECK-NEXT:     {
// CHECK-NEXT:       "kind": 1,
// CHECK-NEXT:       "label": "a: in logic[2:0]:",
// CHECK-NEXT:       "paddingLeft": false,
// CHECK-NEXT:       "paddingRight": true,
// CHECK-NEXT:       "position": {
// CHECK-NEXT:         "character": 19,
// CHECK-NEXT:         "line": 8
// CHECK-NEXT:       }
// CHECK-NEXT:     },
// CHECK-NEXT:     {
// CHECK-NEXT:       "kind": 1,
// CHECK-NEXT:       "label": "bar: out logic:",
// CHECK-NEXT:       "paddingLeft": false,
// CHECK-NEXT:       "paddingRight": true,
// CHECK-NEXT:       "position": {
// CHECK-NEXT:         "character": 22,
// CHECK-NEXT:         "line": 8
// CHECK-NEXT:       }
// CHECK-NEXT:     },
// CHECK-NEXT:     {
// CHECK-NEXT:       "kind": 1,
// CHECK-NEXT:       "label": "in logic:",
// CHECK-NEXT:       "paddingLeft": false,
// CHECK-NEXT:       "paddingRight": true,
// CHECK-NEXT:       "position": {
// CHECK-NEXT:         "character": 9,
// CHECK-NEXT:         "line": 9
// CHECK-NEXT:       }
// CHECK-NEXT:     },
// CHECK-NEXT:     {
// CHECK-NEXT:       "kind": 1,
// CHECK-NEXT:       "label": "out logic:",
// CHECK-NEXT:       "paddingLeft": false,
// CHECK-NEXT:       "paddingRight": true,
// CHECK-NEXT:       "position": {
// CHECK-NEXT:         "character": 12,
// CHECK-NEXT:         "line": 9
// CHECK-NEXT:       }
// CHECK-NEXT:     }
// CHECK-NEXT:   ]
// -----
{"jsonrpc":"2.0","id":2,"method":"shutdown"}
// -----
{"jsonrpc":"2.0","method":"exit"}
