function(extend_path joined_path base_path current_segment)
  if("${current_segment}" STREQUAL "")
    set(temp_path "${base_path}")
  elseif("${base_path}" STREQUAL "")
    set(temp_path "${current_segment}")
  elseif(IS_ABSOLUTE "${current_segment}")
    message(WARNING "Since \"${current_segment}\" is absolute, it overrides base path: \"${base_path}\".")
    set(temp_path "${current_segment}")
  else()
    set(temp_path "${base_path}/${current_segment}")
  endif()
  set(${joined_path} "${temp_path}" PARENT_SCOPE)
endfunction()
